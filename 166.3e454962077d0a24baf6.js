(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{o1NI:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=(t("OO+k"),t("5jpx")),i=t("2EXo"),o=t("nQml"),r=function(n,l,t,u){return new(t||(t=Promise))(function(e,i){function o(n){try{a(u.next(n))}catch(n){i(n)}}function r(n){try{a(u.throw(n))}catch(n){i(n)}}function a(n){n.done?e(n.value):new t(function(l){l(n.value)}).then(o,r)}a((u=u.apply(n,l||[])).next())})},a=function(n,l){var t,u,e,i,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,u&&(e=2&i[0]?u.return:i[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,i[1])).done)return e;switch(u=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,u=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){o.label=i[1];break}if(6===i[0]&&o.label<e[1]){o.label=e[1],e=i;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(i);break}e[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],u=0}finally{t=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},s=function(){function n(n,l,t,u,e,i,o,r,a,s){this.modalController=n,this.dataService=l,this.router=t,this.platform=u,this.popoverController=e,this.events=i,this.alertController=o,this.ngZone=r,this.toastController=a,this.storage=s,this.snapshots=[],this.squadrons=[],this.data_progress=0,this.data_message="X-Wing Tabled",this.data_button=!1,this.data_button_disabled=!1,this.image_button=!1,this.image_button_disabled=!1}return n.prototype.ngOnInit=function(){var n=this;this.events.subscribe(this.dataService.topic,function(l){n.data_event_handler(l)}),this.events.subscribe("snapshot",function(l){n.snapshot()})},n.prototype.restoreFromDisk=function(){return r(this,void 0,void 0,function(){var n,l=this;return a(this,function(t){switch(t.label){case 0:return[4,this.storage.ready()];case 1:return t.sent(),[4,this.storage.get("snapshots")];case 2:return n=t.sent(),this.ngZone.run(function(){if(n){l.snapshots=n;var t=JSON.parse(JSON.stringify(l.snapshots[l.snapshots.length-1]));l.squadrons=t.squadrons,l.toastUndo(t.time)}}),[2]}})})},n.prototype.snapshot=function(){this.snapshots.length>=5&&this.snapshots.shift(),this.snapshots.push({time:(new Date).toISOString(),squadrons:JSON.parse(JSON.stringify(this.squadrons))}),this.storage.set("snapshots",this.snapshots),console.log("snapshot created",this.snapshots)},n.prototype.data_event_handler=function(n){this.data_message=n.message,this.data_progress=n.progress,"manifest_outofdate"==n.status&&(this.data_button=!0,this.data_message="X-Wing Tabled requires a local data update"),"manifest_current"!=n.status&&"data_download_complete"!=n.status||(this.data_button=!1),"images_missing"==n.status&&(this.data_message="X-Wing Tabled needs to download some artwork",this.image_button=!0),"images_complete"==n.status&&(this.image_button=!1,this.restoreFromDisk()),"image_download_incomplete"==n.status&&(this.image_button=!0),"image_download_complete"==n.status&&this.restoreFromDisk()},n.prototype.downloadData=function(){this.data_button_disabled=!0,this.dataService.download_data()},n.prototype.downloadArtwork=function(){this.image_button_disabled=!0,this.dataService.download_missing_images(this.dataService.data)},n.prototype.presentDamageDeckActionsPopover=function(n,l){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:o.a,componentProps:{squadron:l},event:n})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},n.prototype.squadronCss=function(){return this.platform.isPortrait()?"squadron-fullwidth":this.squadrons.length>1?"squadron-halfwidth":"squadron-fullwidth"},n.prototype.pilotCss=function(){return this.platform.isPortrait()?"pilot-fullwidth":"pilot-minwidth"},n.prototype.removeSquadron=function(n){return r(this,void 0,void 0,function(){var l=this;return a(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({header:"Remove squadron?",message:"You are about to remove "+n.name,buttons:[{text:"OK",handler:function(){var t=l.squadrons.indexOf(n);l.squadrons.splice(t,1),l.events.publish("snapshot","create snapshot")}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},n.prototype.askRechargeRecurring=function(){return r(this,void 0,void 0,function(){var n=this;return a(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Recharge Recurring",message:'Do you wish to recover all recurring <i class="xwing-miniatures-font xwing-miniatures-font-charge"></i> and <i class="xwing-miniatures-font xwing-miniatures-font-forcecharge"></i>?',buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){n.rechargeAllRecurring()})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.toastUndo=function(n){return r(this,void 0,void 0,function(){return a(this,function(l){switch(l.label){case 0:return[4,this.toastController.create({message:"Table restored to "+n,duration:2e3,position:"bottom"})];case 1:return l.sent().present(),[2]}})})},n.prototype.askUndo=function(){return r(this,void 0,void 0,function(){var n=this;return a(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Rewind Time?",message:"This will rewind time to "+this.snapshots[this.snapshots.length-2].time,buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){n.snapshots.pop();var l=n.snapshots.pop();n.squadrons=l.squadrons,n.events.publish("snapshot","create snapshot"),n.toastUndo(l.time)})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.resetSquadrons=function(){return r(this,void 0,void 0,function(){var n=this;return a(this,function(l){switch(l.label){case 0:return this.squadrons.forEach(function(l){l.pointsDestroyed=0,l.damagediscard=[],l.damagedeck=n.dataService.getDamageDeck(),l.pilots.forEach(function(n){n.damagecards=[],n.conditions=[],n.pointsDestroyed=0,n.hull.remaining=n.hull.value,[n.shields,n.charges,n.force].forEach(function(n){n&&(n.remaining=n.value)}),n.upgrades.forEach(function(n){n.side=0,n.sides[0].charges&&(n.sides[0].charges.remaining=n.sides[0].charges.value)})})}),this.events.publish("snapshot","create snapshot"),[4,this.toastController.create({message:"Squadrons reset",duration:2e3,position:"bottom"})];case 1:return l.sent().present(),[2]}})})},n.prototype.askReset=function(){return r(this,void 0,void 0,function(){var n=this;return a(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Reset all squadrons?",message:"All charges, force and shields will be restored, damage cards shuffled and conditions removed.",buttons:[{text:"OK",handler:function(){n.ngZone.run(function(){n.resetSquadrons()})}},{text:"Cancel",role:"cancel",cssClass:"secondary"}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})},n.prototype.rechargeAllRecurring=function(){this.squadrons.forEach(function(n){n.pilots.forEach(function(n){n.charges&&n.charges.recovers&&(n.charges.remaining+=n.charges.recovers,n.charges.remaining>n.charges.value&&(n.charges.remaining=n.charges.value),n.charges=JSON.parse(JSON.stringify(n.charges))),n.force&&n.force.recovers&&(n.force.remaining+=n.force.recovers,n.force.remaining>n.force.value&&(n.force.remaining=n.force.value),n.force=JSON.parse(JSON.stringify(n.force))),n.upgrades.forEach(function(n){var l=n.sides[0];l.charges&&l.charges.recovers&&(l.charges.remaining+=l.charges.recovers,l.charges.remaining>l.charges.value&&(l.charges.remaining=l.charges.value),l.charges=JSON.parse(JSON.stringify(l.charges)))})})}),this.events.publish("snapshot","create snapshot")},n.prototype.injectShipData=function(n,l){n.ship=this.dataService.getShip(l,n.ship),n.ship.stats.forEach(function(l){"hull"==l.type&&(n.hull={value:l.value,remaining:l.value}),"shields"==l.type&&(n.shields={value:l.value,remaining:l.value})})},n.prototype.injectPilotData=function(n,l){n.pilot=this.dataService.getPilot(l,n.ship.keyname,n.name),n.pilot.charges&&(n.charges=JSON.parse(JSON.stringify(n.pilot.charges)),void 0==n.charges.remaining&&(n.charges.remaining=n.charges.value,n.charges.numbers=Array(n.charges.recovers))),n.pilot.force&&(n.force=JSON.parse(JSON.stringify(n.pilot.force)),n.force.remaining=n.force.value,n.force.numbers=Array(n.force.recovers)),n.damagecards=[],n.conditions=[],n.pointsDestroyed=0},n.prototype.mangleUpgradeArray=function(n){var l=this,t=[];n.upgrades&&Object.entries(n.upgrades).forEach(function(n){var u=n[0],e=n[1];Array.isArray(e)&&e.forEach(function(n){"force"==u&&(u="forcepower");var e=l.dataService.getUpgrade(u,n);e.type=u,t.push(e)})}),n.upgrades=t},n.prototype.injectUpgradeData=function(n,l){l.side=0,l.sides.forEach(function(n){n.charges&&void 0==n.charges.remaining&&(n.charges.remaining=n.charges.value,n.charges.numbers=Array(n.charges.recovers)),n.force&&(n.force.numbers=Array(n.force.recovers))})},n.prototype.injectShipBonuses=function(n){n.upgrades.forEach(function(l){var t=l.sides[0];t.grants&&t.grants.forEach(function(l){"shields"!=l.value&&"hull"!=l.value||(n[l.value].value+=l.amount,n[l.value].remaining=n[l.value].value)})})},n.prototype.injectForceBonuses=function(n){n.upgrades.forEach(function(l){var t=l.sides[0];t.force&&(n.force||(n.force={value:0,recovers:0,numbers:[]}),n.force.value+=t.force.value,n.force.recovers+=t.force.recovers)}),n.force&&(n.force.numbers=Array(n.force.recovers),n.force.remaining=n.force.value)},n.prototype.xwsAddButton=function(){this.presentXwsModal()},n.prototype.presentXwsModal=function(){return r(this,void 0,void 0,function(){var n,l,t=this;return a(this,function(u){switch(u.label){case 0:return[4,this.modalController.create({component:e.a})];case 1:return[4,(n=u.sent()).present()];case 2:return u.sent(),[4,n.onWillDismiss()];case 3:return(l=u.sent().data)&&(l.damagediscard=[],l.damagedeck=this.dataService.getDamageDeck(),l.pilots.forEach(function(n){t.injectShipData(n,l.faction),t.injectPilotData(n,l.faction),t.mangleUpgradeArray(n),n.upgrades.forEach(function(l){t.injectUpgradeData(n,l)}),t.injectShipBonuses(n),t.injectForceBonuses(n)}),l.pointsDestroyed=0,console.log("xws loaded and data injected",l),this.squadrons.push(l),this.events.publish("snapshot","create snapshot")),[2]}})})},n}(),c=function(){},d=t("pMnS"),g=t("ra/t"),f=t("ntG5"),p=t("M9A9"),b=t("ZYCi"),h=t("Ip0R"),m=t("mrSG"),v=function(){function n(){this.color="#488aff"}return n.prototype.whichColor=function(n){var l=Object.keys(this.degraded);l.forEach(function(n,t){return l[t]=+n});var t,u,e=+n,i=(l=l.sort(function(n,l){return n-l}))[0];try{for(var o=Object(m.h)(l),r=o.next();!r.done;r=o.next()){var a=r.value;if(a<e)i=a;else if(a>=e-1)return this.degraded[i]}}catch(n){t={error:n}}finally{try{r&&!r.done&&(u=o.return)&&u.call(o)}finally{if(t)throw t.error}}return this.degraded[i]},n.prototype.whichProgress=function(n){try{return Math.round(100*+n)/100}catch(l){return n}},n}(),w=function(){},y=u.pb({encapsulation:0,styles:[".progress-outer[_ngcontent-%COMP%] {\n        width: 96%;\n        margin: 10px 2%;\n        padding: 3px;\n        background-color: #f4f4f4;\n        border: 1px solid #dcdcdc;\n        color: #fff;\n        border-radius: 20px;\n        text-align: center;\n      }\n      .progress-inner[_ngcontent-%COMP%] {\n        min-width: 15%;\n        white-space: nowrap;\n        overflow: hidden;\n        padding: 0px;\n        border-radius: 20px;"],data:{}});function q(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,2,"div",[["class","progress-outer"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"div",[["class","progress-inner"]],[[4,"width",null],[4,"background-color",null]],null,null,null,null)),(n()(),u.Eb(2,null,[" ","%\n"]))],null,function(n,l){var t=l.component;n(l,1,0,t.whichProgress(t.progress)+"%",null==t.degraded?t.color:t.whichColor(t.progress)),n(l,2,0,t.whichProgress(t.progress))})}var _=t("kJ0a"),k=t("OOx7"),x=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),O=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.attack-stats[_ngcontent-%COMP%]{color:red;padding-left:.2vw;padding-right:.2vw}.attack-text[_ngcontent-%COMP%]{padding-left:.2vw;padding-right:.2vw}.attack-range[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function C(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(1,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"rangebonusindicator")},null)}function P(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,C)),u.qb(2,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.rb(3,0,null,null,1,"span",[["class","attack-text attack-range"]],null,null,null,null,null)),(n()(),u.Eb(4,null,["","-",""]))],function(n,l){n(l,2,0,l.component.attack.ordnance)},function(n,l){var t=l.component;n(l,4,0,t.attack.minrange,t.attack.maxrange)})}function M(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,7,"span",[["class","attack-stats"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),u.rb(2,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(3,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.rb(4,0,null,null,1,"span",[["class","attack-text"]],null,null,null,null,null)),(n()(),u.Eb(5,null,["",""])),(n()(),u.ib(16777216,null,null,1,null,P)),u.qb(7,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,t.attack.arc),n(l,7,0,t.attack.minrange)},function(n,l){n(l,5,0,l.component.attack.value)})}var F=function(){function n(){this.css_class="difficulty-white"}return n.prototype.ngOnInit=function(){this.css_class="difficulty-"+this.action.difficulty.toLowerCase()},n}(),I=u.pb({encapsulation:0,styles:[[".difficulty-white[_ngcontent-%COMP%]{color:#fff}.difficulty-red[_ngcontent-%COMP%]{color:red}.difficulty-purple[_ngcontent-%COMP%]{color:purple}"]],data:{}});function N(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),u.Eb(-1,null,["\xa0"])),(n()(),u.rb(2,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(3,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.Eb(-1,null,["\xa0"])),(n()(),u.rb(5,0,null,null,1,"xws-action",[],null,null,null,S,I)),u.qb(6,114688,null,0,F,[],{action:[0,"action"]},null)],function(n,l){var t=l.component;n(l,3,0,"linked"),n(l,6,0,t.action.linked)},null)}function S(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,4,"span",[["class","action"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],[[8,"className",0]],null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.ib(16777216,null,null,1,null,N)),u.qb(4,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.action.type),n(l,4,0,t.action.linked)},function(n,l){n(l,1,0,l.component.css_class)})}var E=function(){function n(){}return n.prototype.ngOnInit=function(){void 0==this.charges.remaining&&(this.charges.remaining=this.charges.value,this.charges.numbers=Array(this.charges.recovers))},n}(),Q=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.charge-summary[_ngcontent-%COMP%]{color:#ff0}.charge-text[_ngcontent-%COMP%]{padding-left:.5vw;font-weight:900}"]],data:{}});function z(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","charge-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.charges.remaining)})}function D(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","charge-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["(",")"]))],null,function(n,l){n(l,1,0,l.component.charges.remaining)})}function A(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(1,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"recurring")},null)}function J(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,8,"span",[["class","charge-summary"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.ib(16777216,null,null,1,null,z)),u.qb(4,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,D)),u.qb(6,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,A)),u.qb(8,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0,"charge"),n(l,4,0,t.charges.remaining==t.charges.value),n(l,6,0,t.charges.remaining!=t.charges.value),n(l,8,0,t.charges.numbers)},null)}var j=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),$=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.force-bonus[_ngcontent-%COMP%]{color:#8a2be2}.force-text[_ngcontent-%COMP%]{padding-left:.5vw;font-weight:900}"]],data:{}});function R(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(1,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"recurring")},null)}function U(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,6,"span",[["class","force-bonus"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.rb(3,0,null,null,1,"span",[["class","force-text"]],null,null,null,null,null)),(n()(),u.Eb(4,null,["+",""])),(n()(),u.ib(16777216,null,null,1,null,R)),u.qb(6,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0,"forcecharge"),n(l,6,0,t.force.numbers)},function(n,l){n(l,4,0,l.component.force.value)})}var B=function(){function n(){this.grant={}}return n.prototype.ngOnInit=function(){},n}(),T=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.bonus-text[_ngcontent-%COMP%]{padding-left:.2vw}.grant-shield[_ngcontent-%COMP%]{color:#add8e6}.grant-hull[_ngcontent-%COMP%]{color:#ff0}.grant-icon[_ngcontent-%COMP%]{font-weight:100}"]],data:{}});function Z(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,4,"span",[["class","grant-shield"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[["class","grant-icon"]],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.rb(3,0,null,null,1,"span",[["class","bonus-text"]],null,null,null,null,null)),(n()(),u.Eb(4,null,["+",""]))],function(n,l){n(l,2,0,"shield")},function(n,l){n(l,4,0,l.component.grant.amount)})}function G(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,4,"span",[["class","grant-hull"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[["class","grant-icon"]],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.rb(3,0,null,null,1,"span",[["class","bonus-text"]],null,null,null,null,null)),(n()(),u.Eb(4,null,["+",""]))],function(n,l){n(l,2,0,"hull")},function(n,l){n(l,4,0,l.component.grant.amount)})}function K(n){return u.Fb(0,[(n()(),u.ib(16777216,null,null,1,null,Z)),u.qb(1,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,G)),u.qb(3,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,"stat"==t.grant.type&&"shields"==t.grant.value),n(l,3,0,"stat"==t.grant.type&&"hull"==t.grant.value)},null)}var W=t("lZ+q"),X=function(){function n(n,l,t){this.dataService=n,this.modalController=l,this.events=t,this.upgrade={},this.img_class="img-box",this.img_urls=["",""]}return n.prototype.presentUpgradeModal=function(){return n=this,void 0,t=function(){var n,l;return function(n,l){var t,u,e,i,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,u&&(e=2&i[0]?u.return:i[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,i[1])).done)return e;switch(u=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,u=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){o.label=i[1];break}if(6===i[0]&&o.label<e[1]){o.label=e[1],e=i;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(i);break}e[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],u=0}finally{t=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}}(this,function(t){switch(t.label){case 0:return n=JSON.stringify(this.upgrade),[4,this.modalController.create({component:W.a,componentProps:{upgrade:this.upgrade}})];case 1:return[4,(l=t.sent()).present()];case 2:return t.sent(),[4,l.onWillDismiss()];case 3:return t.sent(),n!=JSON.stringify(this.upgrade)&&this.events.publish("snapshot","create snapshot"),[2]}})},new((l=void 0)||(l=Promise))(function(u,e){function i(n){try{r(t.next(n))}catch(n){e(n)}}function o(n){try{r(t.throw(n))}catch(n){e(n)}}function r(n){n.done?u(n.value):new l(function(l){l(n.value)}).then(i,o)}r((t=t.apply(n,[])).next())});var n,l,t},n.prototype.ngOnInit=function(){var n=this;"configuration"==this.upgrade.type&&(this.img_class="img-config-box");for(var l=function(l){t.dataService.get_image_by_url(t.upgrade.sides[l].image).then(function(t){n.img_urls[l]=t})},t=this,u=0;u<this.upgrade.sides.length;u++)l(u)},n.prototype.showUpgrade=function(){this.presentUpgradeModal()},n}(),Y=t("9opb"),L=t("Da8k"),H=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.upgrade[_ngcontent-%COMP%]{overflow:hidden;width:100%;font-weight:900;font-size:75%}.upgrade-img-container[_ngcontent-%COMP%]{overflow:hidden;margin-right:-78%;margin-bottom:-69%;z-index:-1}.img-box[_ngcontent-%COMP%]{position:relative;left:-40%}.img-config-box[_ngcontent-%COMP%]{position:relative;left:-3.3%}.upgrade-info-block[_ngcontent-%COMP%]{position:relative;bottom:0;color:#fff;background:#212020;padding:.5em .5em .2em;width:100%;min-height:2.5vw;display:flex;flex-direction:row;justify-content:flex-end;font-size:1.25vw}.upgrade-info-block-left[_ngcontent-%COMP%], .upgrade-info-block-right[_ngcontent-%COMP%]{display:inline-block}.upgrade-filler[_ngcontent-%COMP%]{font-size:1.5em}.action-box[_ngcontent-%COMP%]{border-left:1px solid #d3d3d3;padding-left:.4em;padding-right:.2em}"]],data:{}});function V(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-attack-stats",[],null,null,null,M,O)),u.qb(1,114688,null,0,x,[],{attack:[0,"attack"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].attack)},null)}function nn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-action",[["class","action-box"]],null,null,null,S,I)),u.qb(1,114688,null,0,F,[],{action:[0,"action"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function ln(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-charge-summary",[],null,null,null,J,Q)),u.qb(1,114688,null,0,E,[],{charges:[0,"charges"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].charges)},null)}function tn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-force-bonus",[],null,null,null,U,$)),u.qb(1,114688,null,0,j,[],{force:[0,"force"]},null)],function(n,l){var t=l.component;n(l,1,0,t.upgrade.sides[t.upgrade.side].force)},null)}function un(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(1,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"config")},null)}function en(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-bonus-stats",[],null,null,null,K,T)),u.qb(1,114688,null,0,B,[],{grant:[0,"grant"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function on(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,17,"div",[["class","upgrade"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showUpgrade()&&u),u},null,null)),(n()(),u.rb(1,0,null,null,1,"div",[["class","upgrade-img-container"]],null,null,null,null,null)),(n()(),u.rb(2,0,null,null,0,"img",[],[[8,"src",4],[8,"className",0]],null,null,null,null)),(n()(),u.rb(3,0,null,null,14,"div",[["class","upgrade-info-block"]],null,null,null,null,null)),(n()(),u.rb(4,0,null,null,4,"div",[["class","upgrade-info-block-left"]],null,null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,V)),u.qb(6,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,nn)),u.qb(8,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null),(n()(),u.rb(9,0,null,null,8,"div",[["class","upgrade-info-block-right"]],null,null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,ln)),u.qb(11,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,tn)),u.qb(13,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,un)),u.qb(15,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,en)),u.qb(17,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,6,0,t.upgrade.sides[t.upgrade.side].attack),n(l,8,0,t.upgrade.sides[t.upgrade.side].actions),n(l,11,0,t.upgrade.sides[t.upgrade.side].charges),n(l,13,0,t.upgrade.sides[t.upgrade.side].force),n(l,15,0,"configuration"==t.upgrade.type),n(l,17,0,t.upgrade.sides[t.upgrade.side].grants)},function(n,l){var t=l.component;n(l,2,0,t.img_urls[t.upgrade.side],t.img_class)})}var rn=function(){function n(n){this.dataService=n,this.condition_data=null}return n.prototype.ngOnInit=function(){var n=this;this.condition_data=this.dataService.getCondition(this.condition),this.dataService.get_image_by_url(this.condition_data.artwork).then(function(l){n.img_url=l})},n}(),an=u.pb({encapsulation:0,styles:[[".condition[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;width:4vw;margin-left:.5vw}.condition-img-container[_ngcontent-%COMP%]{overflow:hidden;height:4vw;margin-right:-75%}.condition-img[_ngcontent-%COMP%]{position:relative;left:-25%}"]],data:{}});function sn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,2,"div",[["class","condition"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"div",[["class","condition-img-container"]],null,null,null,null,null)),(n()(),u.rb(2,0,null,null,0,"img",[["class","condition-img"]],[[8,"src",4]],null,null,null,null))],null,function(n,l){n(l,2,0,l.component.img_url)})}var cn=function(){function n(){this.shields={}}return n.prototype.ngOnInit=function(){void 0==this.shields.remaining&&(this.shields.remaining=this.shields.value)},n}(),dn=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.shield-summary[_ngcontent-%COMP%]{color:#add8e6}.shield-text[_ngcontent-%COMP%]{padding-left:.5vw;font-weight:900}"]],data:{}});function gn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","shield-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.shields.remaining)})}function fn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","shield-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["(",")"]))],null,function(n,l){n(l,1,0,l.component.shields.remaining)})}function pn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,6,"span",[["class","shield-summary"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.ib(16777216,null,null,1,null,gn)),u.qb(4,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,fn)),u.qb(6,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,"shield"),n(l,4,0,t.shields.value==t.shields.remaining),n(l,6,0,t.shields.value!=t.shields.remaining)},null)}var bn=function(){function n(){this.force={}}return n.prototype.ngOnInit=function(){},n}(),hn=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.force-summary[_ngcontent-%COMP%]{color:#8a2be2}.force-text[_ngcontent-%COMP%]{padding-left:.5vw;font-weight:900}"]],data:{}});function mn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","force-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.force.remaining)})}function vn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","force-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["(",")"]))],null,function(n,l){n(l,1,0,l.component.force.remaining)})}function wn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(1,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"recurring")},null)}function yn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,8,"span",[["class","force-summary"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.ib(16777216,null,null,1,null,mn)),u.qb(4,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,vn)),u.qb(6,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,wn)),u.qb(8,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,2,0,"forcecharge"),n(l,4,0,t.force.remaining==t.force.value),n(l,6,0,t.force.remaining!=t.force.value),n(l,8,0,t.force.numbers)},null)}var qn=function(){function n(){this.name="",this.icon_class=""}return n.getClass=function(l){return n.icon_class_template.replace("TEMPLATE",l)},n.prototype.ngOnInit=function(){this.icon_class=n.getClass(this.name)},n.icon_class_template="xwing-miniatures-ship xwing-miniatures-ship-TEMPLATE",n}(),_n=u.pb({encapsulation:0,styles:[[""]],data:{}});function kn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.icon_class)})}var xn=function(){function n(){this.hull={}}return n.prototype.ngOnInit=function(){void 0==this.hull.remaining&&(this.hull.remaining=this.hull.value)},n}(),On=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.hull-summary[_ngcontent-%COMP%]{color:#ff0}.hull-text[_ngcontent-%COMP%]{margin-left:.5vw;font-weight:900}"]],data:{}});function Cn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","hull-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.hull.remaining)})}function Pn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"span",[["class","hull-text"]],null,null,null,null,null)),(n()(),u.Eb(1,null,["(",")"]))],null,function(n,l){n(l,1,0,l.component.hull.remaining)})}function Mn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,6,"span",[["class","hull-summary"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.ib(16777216,null,null,1,null,Cn)),u.qb(4,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,Pn)),u.qb(6,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,"hull"),n(l,4,0,t.hull.value==t.hull.remaining),n(l,6,0,t.hull.value!=t.hull.remaining)},null)}var Fn=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),In=u.pb({encapsulation:0,styles:[[".damage-icon[_ngcontent-%COMP%]{color:red;display:inline-block}"]],data:{}});function Nn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"div",[["class","damage-icon"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),u.rb(2,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(3,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,3,0,l.context.$implicit.exposed?"crit":"hit")},null)}function Sn(n){return u.Fb(0,[(n()(),u.ib(16777216,null,null,1,null,Nn)),u.qb(1,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,1,0,l.component.damagecards)},null)}var En=t("S0Yn"),Qn=function(){function n(n,l,t,u){this.dataService=n,this.modalController=l,this.platform=t,this.events=u,this.columns=[],this.img_url=""}return n.prototype.getStatString=function(n){return this.pilot.ship.stats.forEach(function(l){if(l.type==n)return l.value!=l.remaining?"("+l.remaining+")":l.value}),""},n.prototype.ngOnInit=function(){var n=this,l=[];this.pilot.upgrades.forEach(function(t){l.push(t),3==l.length&&(n.columns.push(l),l=[])}),l.length>0&&this.columns.push(l),this.dataService.get_image_by_url(this.pilot.pilot.image).then(function(l){n.img_url=l})},n.prototype.presentPilotModal=function(){return n=this,void 0,t=function(){var n,l;return function(n,l){var t,u,e,i,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,u&&(e=2&i[0]?u.return:i[0]?u.throw||((e=u.return)&&e.call(u),0):u.next)&&!(e=e.call(u,i[1])).done)return e;switch(u=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,u=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(e=(e=o.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){o.label=i[1];break}if(6===i[0]&&o.label<e[1]){o.label=e[1],e=i;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(i);break}e[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],u=0}finally{t=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}}(this,function(t){switch(t.label){case 0:return n=JSON.stringify(this.pilot),[4,this.modalController.create({component:En.a,componentProps:{pilot:this.pilot,squadron:this.squadron}})];case 1:return[4,(l=t.sent()).present()];case 2:return t.sent(),[4,l.onWillDismiss()];case 3:return t.sent(),n!=JSON.stringify(this.pilot)&&this.events.publish("snapshot","create snapshot"),[2]}})},new((l=void 0)||(l=Promise))(function(u,e){function i(n){try{r(t.next(n))}catch(n){e(n)}}function o(n){try{r(t.throw(n))}catch(n){e(n)}}function r(n){n.done?u(n.value):new l(function(l){l(n.value)}).then(i,o)}r((t=t.apply(n,[])).next())});var n,l,t},n.prototype.showPilot=function(){this.presentPilotModal()},n}(),zn=t("YxxD"),Dn=u.pb({encapsulation:0,styles:[[".modal-content[_ngcontent-%COMP%]{background-color:#212020;min-height:100%;padding:1vw}.pilot[_ngcontent-%COMP%]{margin-right:.2vw}.upgrade-column[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.upgrade[_ngcontent-%COMP%]{width:10vw;display:block}.upgrade-portrait[_ngcontent-%COMP%]{width:20vw;display:block}.ship-fw[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:3vw;font-size:2vw}.ship-status[_ngcontent-%COMP%], .ship-status-portrait[_ngcontent-%COMP%]{background:#212020;font-size:2vw;min-height:2.25vw;height:2.25vw;padding-left:.5vw}.ship-status-portrait[_ngcontent-%COMP%]{font-size:4vw}.art-container[_ngcontent-%COMP%]{background:#212020;position:relative}.item-pilotart[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:18vw}.item-pilotart-portrait[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:32vw}.item-status[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.condition-box[_ngcontent-%COMP%]{position:absolute;left:0;top:0}"]],data:{}});function An(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(2,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.Eb(3,null,[" ",""]))],function(n,l){n(l,2,0,"token-lock")},function(n,l){n(l,3,0,l.component.pilot.idNumber)})}function Jn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-upgrade",[],[[8,"className",0]],null,null,on,H)),u.qb(1,114688,null,0,X,[i.a,Y.a,L.a],{upgrade:[0,"upgrade"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,0,0,l.component.platform.isPortrait()?"upgrade-portrait":"upgrade")})}function jn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,2,"div",[["class","upgrade-column"]],null,null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,Jn)),u.qb(2,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.context.$implicit)},null)}function $n(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-condition-summary",[],null,null,null,sn,an)),u.qb(1,114688,null,0,rn,[i.a],{condition:[0,"condition"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function Rn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-shield-summary",[],null,null,null,pn,dn)),u.qb(1,114688,null,0,cn,[],{shields:[0,"shields"]},null)],function(n,l){n(l,1,0,l.component.pilot.shields)},null)}function Un(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-charge-summary",[],null,null,null,J,Q)),u.qb(1,114688,null,0,E,[],{charges:[0,"charges"]},null)],function(n,l){n(l,1,0,l.component.pilot.charges)},null)}function Bn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-force-summary",[],null,null,null,yn,hn)),u.qb(1,114688,null,0,bn,[],{force:[0,"force"]},null)],function(n,l){n(l,1,0,l.component.pilot.force)},null)}function Tn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,31,"div",[["class","pilot"]],null,null,null,null,null)),(n()(),u.rb(1,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),u.rb(2,0,null,null,1,"xwing-ship",[["class","ship-fw"]],null,null,null,kn,_n)),u.qb(3,114688,null,0,qn,[],{name:[0,"name"]},null),(n()(),u.Eb(4,null,["\xa0 ","\xa0 "])),(n()(),u.ib(16777216,null,null,1,null,An)),u.qb(6,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.Eb(7,null,["\xa0 ( "," / "," ) "])),(n()(),u.rb(8,0,null,null,7,"div",[["class","art-container"]],null,null,null,null,null)),(n()(),u.rb(9,0,null,null,1,"div",[],[[8,"className",0]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showPilot()&&u),u},null,null)),(n()(),u.rb(10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,jn)),u.qb(12,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null),(n()(),u.rb(13,0,null,null,2,"div",[["class","condition-box"]],null,null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,$n)),u.qb(15,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null),(n()(),u.rb(16,0,null,null,12,"div",[],[[8,"className",0]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showPilot()&&u),u},null,null)),(n()(),u.rb(17,0,null,null,1,"xws-hull-summary",[],null,null,null,Mn,On)),u.qb(18,114688,null,0,xn,[],{hull:[0,"hull"]},null),(n()(),u.Eb(-1,null,["\xa0 "])),(n()(),u.ib(16777216,null,null,1,null,Rn)),u.qb(21,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.Eb(-1,null,["\xa0 "])),(n()(),u.ib(16777216,null,null,1,null,Un)),u.qb(24,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.Eb(-1,null,["\xa0 "])),(n()(),u.ib(16777216,null,null,1,null,Bn)),u.qb(27,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.Eb(-1,null,["\xa0 "])),(n()(),u.rb(29,0,null,null,2,"div",[],[[8,"className",0]],[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showPilot()&&u),u},null,null)),(n()(),u.rb(30,0,null,null,1,"xws-damage-summary",[],null,null,null,Sn,In)),u.qb(31,114688,null,0,Fn,[],{damagecards:[0,"damagecards"],squadron:[1,"squadron"]},null)],function(n,l){var t=l.component;n(l,3,0,t.pilot.ship.keyname),n(l,6,0,t.pilot.idNumber&&t.pilot.idNumber>0),n(l,12,0,t.columns),n(l,15,0,t.pilot.conditions),n(l,18,0,t.pilot.hull),n(l,21,0,t.pilot.shields),n(l,24,0,t.pilot.charges),n(l,27,0,t.pilot.force),n(l,31,0,t.pilot.damagecards,t.squadron)},function(n,l){var t=l.component;n(l,4,0,t.pilot.pilot.name),n(l,7,0,t.pilot.pointsDestroyed,t.pilot.points),n(l,9,0,t.platform.isPortrait()?"item-pilotart-portrait":"item-pilotart"),n(l,10,0,t.img_url),n(l,16,0,t.platform.isPortrait()?"ship-status-portrait":"ship-status"),n(l,29,0,t.platform.isPortrait()?"ship-status-portrait":"ship-status")})}var Zn=t("apKv"),Gn=t("CssM"),Kn=t("P87I"),Wn=t("iw74"),Xn=u.pb({encapsulation:0,styles:[[".progress-bar-container[_ngcontent-%COMP%], .title-bar[_ngcontent-%COMP%]{display:inline-block;width:50%}.squadron-container[_ngcontent-%COMP%]{display:block}.squadron-item[_ngcontent-%COMP%]{display:inline-block}.squadron-halfwidth[_ngcontent-%COMP%]{display:inline-block;width:50%;vertical-align:top}.squadron-fullwidth[_ngcontent-%COMP%]{width:100%;vertical-align:top}.squadron-header[_ngcontent-%COMP%]{display:block}.squadron-name[_ngcontent-%COMP%]{display:inline-block;padding-left:.5vw}.squadron-info[_ngcontent-%COMP%]{display:inline-block}.damage-deck-summary[_ngcontent-%COMP%]{padding-left:.5vw;padding-right:.5vw}.damage-deck-summary-text[_ngcontent-%COMP%]{line-height:1.5vh;display:inline-block;vertical-align:middle}.damage-deck-icon[_ngcontent-%COMP%]{display:inline-block;text-align:center;width:3vw;font-size:2vw;color:red;background-color:#000;margin-right:.5vw}.pilotlist[_ngcontent-%COMP%]{display:block}.pilot[_ngcontent-%COMP%]{display:inline-block}.pilot-fullwidth[_ngcontent-%COMP%]{display:block;width:100%}.pilot-minwidth[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.recharge-all-button[_ngcontent-%COMP%]{font-size:2vw}"]],data:{}});function Yn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0,i=n.component;return"click"===l&&(e=!1!==u.Bb(n,2).onClick(t)&&e),"click"===l&&(e=!1!==i.downloadData()&&e),e},g.q,g.b)),u.qb(1,49152,null,0,f.f,[u.i,u.l],{disabled:[0,"disabled"]},null),u.qb(2,16384,null,0,p.a,[[2,b.l],u.l],null,null),(n()(),u.Eb(-1,0,["Download Data"]))],function(n,l){n(l,1,0,l.component.data_button_disabled)},null)}function Ln(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0,i=n.component;return"click"===l&&(e=!1!==u.Bb(n,2).onClick(t)&&e),"click"===l&&(e=!1!==i.downloadArtwork()&&e),e},g.q,g.b)),u.qb(1,49152,null,0,f.f,[u.i,u.l],{disabled:[0,"disabled"]},null),u.qb(2,16384,null,0,p.a,[[2,b.l],u.l],null,null),(n()(),u.Eb(-1,0,["Download Artwork"]))],function(n,l){n(l,1,0,l.component.image_button_disabled)},null)}function Hn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,15,"ion-header",[],null,null,null,g.w,g.h)),u.qb(1,49152,null,0,f.y,[u.i,u.l],null,null),(n()(),u.rb(2,0,null,0,13,"ion-toolbar",[],null,null,null,g.D,g.n)),u.qb(3,49152,null,0,f.xb,[u.i,u.l],null,null),(n()(),u.rb(4,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,g.r,g.c)),u.qb(5,49152,null,0,f.g,[],null,null),(n()(),u.ib(16777216,null,0,1,null,Yn)),u.qb(7,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,0,1,null,Ln)),u.qb(9,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.rb(10,0,null,0,2,"ion-title",[["class","title-bar"]],null,null,null,g.C,g.o)),u.qb(11,49152,null,0,f.yb,[u.i,u.l],null,null),(n()(),u.Eb(12,0,["",""])),(n()(),u.rb(13,0,null,0,2,"div",[["class","progress-bar-container"]],null,null,null,null,null)),(n()(),u.rb(14,0,null,null,1,"progress-bar",[],null,null,null,q,y)),u.qb(15,49152,null,0,v,[],{progress:[0,"progress"],color:[1,"color"]},null)],function(n,l){var t=l.component;n(l,7,0,t.data_button),n(l,9,0,t.image_button),n(l,15,0,t.data_progress,"#488aff")},function(n,l){n(l,12,0,l.component.data_message)})}function Vn(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"xws-pilot",[],[[8,"className",0]],null,null,Tn,Dn)),u.qb(1,114688,null,0,Qn,[i.a,Y.a,zn.a,L.a],{squadron:[0,"squadron"],pilot:[1,"pilot"],faction:[2,"faction"]},null)],function(n,l){n(l,1,0,l.parent.context.$implicit,l.context.$implicit,l.parent.context.$implicit.faction)},function(n,l){n(l,0,0,l.component.pilotCss())})}function nl(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,24,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),u.rb(1,0,null,null,21,"div",[["class","squadron-header"]],null,null,null,null,null)),(n()(),u.rb(2,0,null,null,20,"ion-toolbar",[],null,null,null,g.D,g.n)),u.qb(3,49152,null,0,f.xb,[u.i,u.l],null,null),(n()(),u.rb(4,0,null,0,3,"span",[["class","squadron-name"]],null,null,null,null,null)),(n()(),u.rb(5,0,null,null,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(6,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.Eb(7,null,["\xa0 "," ( "," / "," ) "])),(n()(),u.rb(8,0,null,0,14,"ion-buttons",[["slot","end"]],null,null,null,g.r,g.c)),u.qb(9,49152,null,0,f.g,[],null,null),(n()(),u.rb(10,0,null,0,7,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0,i=n.component;return"click"===l&&(e=!1!==u.Bb(n,12).onClick(t)&&e),"click"===l&&(e=!1!==i.presentDamageDeckActionsPopover(t,n.context.$implicit)&&e),e},g.q,g.b)),u.qb(11,49152,null,0,f.f,[u.i,u.l],null,null),u.qb(12,16384,null,0,p.a,[[2,b.l],u.l],null,null),(n()(),u.rb(13,0,null,0,4,"span",[["class","damage-deck-summary"]],null,null,null,null,null)),(n()(),u.rb(14,0,null,null,1,"xwing-icon",[["class","damage-deck-icon"]],null,null,null,_.b,_.a)),u.qb(15,114688,null,0,k.a,[],{name:[0,"name"]},null),(n()(),u.rb(16,0,null,null,1,"span",[["class","damage-deck-summary-text"]],null,null,null,null,null)),(n()(),u.Eb(17,null,["",""])),(n()(),u.rb(18,0,null,0,4,"ion-button",[],null,[[null,"click"]],function(n,l,t){var e=!0,i=n.component;return"click"===l&&(e=!1!==u.Bb(n,20).onClick(t)&&e),"click"===l&&(e=!1!==i.removeSquadron(n.context.$implicit)&&e),e},g.q,g.b)),u.qb(19,49152,null,0,f.f,[u.i,u.l],null,null),u.qb(20,16384,null,0,p.a,[[2,b.l],u.l],null,null),(n()(),u.rb(21,0,null,0,1,"ion-icon",[["name","close"]],null,null,null,g.x,g.i)),u.qb(22,49152,null,0,f.z,[u.i,u.l],{name:[0,"name"]},null),(n()(),u.ib(16777216,null,null,1,null,Vn)),u.qb(24,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,6,0,l.context.$implicit.faction),n(l,15,0,"hit"),n(l,22,0,"close"),n(l,24,0,l.context.$implicit.pilots)},function(n,l){n(l,0,0,l.component.squadronCss()),n(l,7,0,l.context.$implicit.name,l.context.$implicit.pointsDestroyed,l.context.$implicit.points),n(l,17,0,l.context.$implicit.damagedeck.length)})}function ll(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"ion-fab-button",[["class","recharge-all-button"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.askReset()&&u),u},g.t,g.f)),u.qb(1,49152,null,0,f.u,[u.i,u.l],null,null),(n()(),u.rb(2,0,null,0,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(3,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"reload")},null)}function tl(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.askUndo()&&u),u},g.t,g.f)),u.qb(1,49152,null,0,f.u,[u.i,u.l],null,null),(n()(),u.rb(2,0,null,0,1,"ion-icon",[["name","undo"]],null,null,null,g.x,g.i)),u.qb(3,49152,null,0,f.z,[u.i,u.l],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"undo")},null)}function ul(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"ion-fab-button",[["class","recharge-all-button"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.askRechargeRecurring()&&u),u},g.t,g.f)),u.qb(1,49152,null,0,f.u,[u.i,u.l],null,null),(n()(),u.rb(2,0,null,0,1,"xwing-icon",[],null,null,null,_.b,_.a)),u.qb(3,114688,null,0,k.a,[],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"charge")},null)}function el(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,3,"ion-fab-button",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.xwsAddButton()&&u),u},g.t,g.f)),u.qb(1,49152,null,0,f.u,[u.i,u.l],null,null),(n()(),u.rb(2,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,g.x,g.i)),u.qb(3,49152,null,0,f.z,[u.i,u.l],{name:[0,"name"]},null)],function(n,l){n(l,3,0,"add")},null)}function il(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,15,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,g.v,g.e)),u.qb(1,49152,null,0,f.t,[u.i,u.l],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),u.rb(2,0,null,0,3,"ion-fab-button",[],null,null,null,g.t,g.f)),u.qb(3,49152,null,0,f.u,[u.i,u.l],null,null),(n()(),u.rb(4,0,null,0,1,"ion-icon",[["name","more"]],null,null,null,g.x,g.i)),u.qb(5,49152,null,0,f.z,[u.i,u.l],{name:[0,"name"]},null),(n()(),u.rb(6,0,null,0,9,"ion-fab-list",[["side","top"]],null,null,null,g.u,g.g)),u.qb(7,49152,null,0,f.v,[u.i,u.l],{side:[0,"side"]},null),(n()(),u.ib(16777216,null,0,1,null,ll)),u.qb(9,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,0,1,null,tl)),u.qb(11,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,0,1,null,ul)),u.qb(13,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,0,1,null,el)),u.qb(15,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,1,0,"end","bottom"),n(l,5,0,"more"),n(l,7,0,"top"),n(l,9,0,t.squadrons.length>0),n(l,11,0,t.snapshots.length>1),n(l,13,0,t.squadrons.length>0),n(l,15,0,t.squadrons.length<2)},null)}function ol(n){return u.Fb(0,[(n()(),u.ib(16777216,null,null,1,null,Hn)),u.qb(1,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.rb(2,0,null,null,13,"ion-content",[["padding",""]],null,null,null,g.s,g.d)),u.qb(3,49152,null,0,f.r,[u.i,u.l],null,null),(n()(),u.rb(4,0,null,0,3,"div",[["class","squadron-container"]],null,null,null,null,null)),(n()(),u.rb(5,0,null,null,0,"div",[["class","squadron-header"]],null,null,null,null,null)),(n()(),u.ib(16777216,null,null,1,null,nl)),u.qb(7,278528,null,0,h.h,[u.Q,u.N,u.u],{ngForOf:[0,"ngForOf"]},null),(n()(),u.ib(16777216,null,0,1,null,il)),u.qb(9,16384,null,0,h.i,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),(n()(),u.rb(10,0,null,0,5,"ion-fab",[["horizontal","start"],["vertical","bottom"]],null,null,null,g.v,g.e)),u.qb(11,49152,null,0,f.t,[u.i,u.l],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),u.rb(12,0,null,0,3,"ion-fab-button",[["href","./about"]],null,null,null,g.t,g.f)),u.qb(13,49152,null,0,f.u,[u.i,u.l],{href:[0,"href"]},null),(n()(),u.rb(14,0,null,0,1,"ion-icon",[["name","help"]],null,null,null,g.x,g.i)),u.qb(15,49152,null,0,f.z,[u.i,u.l],{name:[0,"name"]},null)],function(n,l){var t=l.component;n(l,1,0,!t.dataService.initialized),n(l,7,0,t.squadrons),n(l,9,0,t.dataService.initialized),n(l,11,0,"start","bottom"),n(l,13,0,"./about"),n(l,15,0,"help")},null)}var rl=u.nb("app-main",s,function(n){return u.Fb(0,[(n()(),u.rb(0,0,null,null,1,"app-main",[],null,null,null,ol,Xn)),u.qb(1,114688,null,0,s,[Y.a,i.a,b.l,zn.a,Zn.a,L.a,Gn.a,u.B,Kn.a,Wn.b],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),al=t("gIcY"),sl=t("95zI"),cl=t("B4/3"),dl=t("jKa7");t.d(l,"MainPageModuleNgFactory",function(){return gl});var gl=u.ob(c,[],function(n){return u.yb([u.zb(512,u.k,u.db,[[8,[d.a,rl]],[3,u.k],u.z]),u.zb(4608,h.k,h.j,[u.w,[2,h.q]]),u.zb(4608,al.d,al.d,[]),u.zb(4608,sl.a,sl.a,[u.B,u.g]),u.zb(4608,Y.a,Y.a,[sl.a,u.k,u.s]),u.zb(4608,Zn.a,Zn.a,[sl.a,u.k,u.s]),u.zb(1073742336,h.b,h.b,[]),u.zb(1073742336,al.c,al.c,[]),u.zb(1073742336,al.a,al.a,[]),u.zb(1073742336,cl.a,cl.a,[]),u.zb(1073742336,b.m,b.m,[[2,b.s],[2,b.l]]),u.zb(1073742336,dl.a,dl.a,[]),u.zb(1073742336,w,w,[]),u.zb(1073742336,c,c,[]),u.zb(1024,b.j,function(){return[[{path:"",component:s}]]},[])])})}}]);